<!DOCTYPE html>
<html lang="{{ config.language }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% if page.title %}
  <title>{{ page.title }} - {{ config.title }}</title>
  {% elif config.title %}
  <title>{{ config.title }}</title>
  {% endif %}

  {% if config.description %}
  <meta name="description" content="{{ config.description }}">
  {% endif %}
  {% if config.keywords %}
  <meta name="keywords" content="{{ config.keywords }}">
  {% endif %}
  {% if config.author %}
  <meta name="author" content="{{ config.author }}">
  {% endif %}

  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/post-layout.css">
  <link rel="stylesheet" href="/css/spring-blog.css">
</head>
<body class="post-page">
  <!-- Top Navigation Bar -->
  <nav class="post-navbar">
    <div class="post-navbar-left">
      <a href="javascript:history.back()" class="nav-btn">
        ← Back
      </a>
      <a href="/" class="nav-btn">
        Home
      </a>
    </div>
    <div class="post-navbar-center">
      <span class="nav-title">{{ config.title }}</span>
    </div>
    <div class="post-navbar-right">
      <button class="nav-btn" onclick="window.scrollTo(0,0)" aria-label="Back to top">
        ↑ Top
      </button>
      {% if page.prev %}
      <a href="{{ url_for(page.prev.path) }}" class="nav-btn" title="Previous post">
        ← Prev
      </a>
      {% endif %}
      {% if page.next %}
      <a href="{{ url_for(page.next.path) }}" class="nav-btn" title="Next post">
        Next →
      </a>
      {% endif %}
    </div>
  </nav>

  <!-- Main Content Area -->
  <main class="post-main-wrapper">
    {% block content %}{% endblock %}

    <!-- Simple Footer -->
    <footer class="post-footer-simple">
      <p>&copy; 2025 {{ config.author }}. All rights reserved.</p>
      {% if config.subtitle %}
      <p style="margin-top: 8px; font-size: 13px;">{{ config.subtitle }}</p>
      {% endif %}
    </footer>
  </main>

  <script>
    // Smooth scroll for navigation buttons
    document.querySelectorAll('.nav-btn[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      // Escape to go back
      if (e.key === 'Escape') {
        history.back();
      }
      // Home key to go to home
      if (e.key === 'Home' && e.ctrlKey) {
        window.location.href = '/';
      }
    });

    console.log('Post page loaded successfully ✨');
  </script>
</body>
</html>
